"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9004],{9004:(R,h,l)=>{l.r(h),l.d(h,{SignupPageModule:()=>S});var c=l(9228),f=l(467),m=l(6946),e=l(4438),C=l(4796),r=l(4742),M=l(177),u=l(4341);function _(i,s){1&i&&(e.j41(0,"span"),e.EFF(1,"Agregar Imagen"),e.k0s())}function y(i,s){1&i&&(e.j41(0,"span"),e.EFF(1,"Imagen Agregada"),e.k0s())}function j(i,s){if(1&i&&(e.j41(0,"div",23),e.EFF(1),e.k0s()),2&i){const d=e.XpG();e.R7$(),e.JRh(d.errorMessage)}}function P(i,s){1&i&&(e.j41(0,"div",24),e.nrm(1,"ion-spinner",25),e.k0s())}const k=[{path:"",component:(()=>{var i;class s{constructor(o,n,a,g){this.authService=o,this.storage=n,this.router=a,this.toastController=g,this.name="",this.lastName="",this.age=null,this.phone="",this.image="",this.email="",this.password="",this.errorMessage="",this.isLoading=!1,this.imageAdded=!1}showToast(o){var n=this;return(0,f.A)(function*(){(yield n.toastController.create({message:o,duration:3e3,position:"top",buttons:[{text:"Cerrar",role:"cancel"}]})).present()})()}onFileSelected(o){this.selectedFile=o.target.files[0],this.selectedFile&&(this.imageAdded=!0,this.showToast("Archivo seleccionado: "+this.selectedFile.name))}uploadFile(o,n){var a=this;return new Promise((g,t)=>{const b=(0,m.KR)(this.storage,`files/${n}/${o.name}`);(0,m.bp)(b,o).on("state_changed",p=>{console.log("Progreso de carga:",p.bytesTransferred/p.totalBytes*100)},p=>{console.error("Error al cargar el archivo:",p),this.showToast("Error al cargar el archivo: "+p.message),t(p)},(0,f.A)(function*(){console.log("\xa1Archivo subido con \xe9xito!");const p=yield(0,m.qk)(b);a.showToast("\xa1Archivo subido con \xe9xito!"),g(p)}))})}register(){var o=this;return(0,f.A)(function*(){o.errorMessage="",o.isLoading=!0;try{const{uid:n}=yield o.authService.register(o.email,o.password,{name:o.name,lastName:o.lastName,age:o.age,phone:o.phone});o.selectedFile&&(o.image=yield o.uploadFile(o.selectedFile,n)),yield o.authService.updateUserData(n,{image:o.image}),o.showToast("Registro exitoso"),o.router.navigate(["/home"])}catch(n){o.errorMessage=n.code?`Error ${n.code}: ${n.message}`:"Error en el registro",console.error("Error en el registro:",o.errorMessage),o.showToast(o.errorMessage)}finally{o.isLoading=!1}})()}}return(i=s).\u0275fac=function(o){return new(o||i)(e.rXU(C.u),e.rXU(m.wc),e.rXU(c.Ix),e.rXU(r.K_))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-signup"]],decls:48,vars:18,consts:[["signupForm","ngForm"],[1,"app-header"],[1,"app-header-logo"],["slot","end",1,"app-header-navbar"],["routerLink","/login",1,"profile"],["name","person-circle-outline"],[1,"signup-container"],[1,"header"],["src","https://static.vecteezy.com/system/resources/previews/005/129/844/non_2x/profile-user-icon-isolated-on-white-background-eps10-free-vector.jpg","alt","User Icon",1,"user-icon"],[1,"login-form",3,"ngSubmit"],["position","floating"],["type","text","name","name","required","",3,"ngModelChange","ngModel","disabled"],["type","text","name","lastName","required","",3,"ngModelChange","ngModel","disabled"],["type","email","name","email","required","",3,"ngModelChange","ngModel","disabled"],["type","password","name","password","required","",3,"ngModelChange","ngModel","disabled"],["type","number","name","age","required","",3,"ngModelChange","ngModel","disabled"],["type","tel","name","phone","required","",3,"ngModelChange","ngModel","disabled"],[1,"file-input-label"],[4,"ngIf"],["type","file",1,"file-input",3,"change","disabled"],["class","error-message",4,"ngIf"],["expand","full","type","submit",3,"disabled"],["class","loading-overlay",4,"ngIf"],[1,"error-message"],[1,"loading-overlay"],["name","circles",1,"loading-spinner"]],template:function(o,n){if(1&o){const a=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar"),e.nrm(2,"div",2),e.j41(3,"ion-buttons",3)(4,"ion-button",4),e.nrm(5,"ion-icon",5),e.EFF(6," LOGIN "),e.k0s()()()(),e.j41(7,"ion-content")(8,"div",6)(9,"h2",7),e.EFF(10,"Registro de Usuario"),e.k0s(),e.nrm(11,"img",8),e.j41(12,"form",9,0),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(n.register())}),e.j41(14,"ion-item")(15,"ion-label",10),e.EFF(16,"Nombre"),e.k0s(),e.j41(17,"ion-input",11),e.mxI("ngModelChange",function(t){return e.eBV(a),e.DH7(n.name,t)||(n.name=t),e.Njj(t)}),e.k0s()(),e.j41(18,"ion-item")(19,"ion-label",10),e.EFF(20,"Apellido"),e.k0s(),e.j41(21,"ion-input",12),e.mxI("ngModelChange",function(t){return e.eBV(a),e.DH7(n.lastName,t)||(n.lastName=t),e.Njj(t)}),e.k0s()(),e.j41(22,"ion-item")(23,"ion-label",10),e.EFF(24,"Correo Electr\xf3nico"),e.k0s(),e.j41(25,"ion-input",13),e.mxI("ngModelChange",function(t){return e.eBV(a),e.DH7(n.email,t)||(n.email=t),e.Njj(t)}),e.k0s()(),e.j41(26,"ion-item")(27,"ion-label",10),e.EFF(28,"Contrase\xf1a"),e.k0s(),e.j41(29,"ion-input",14),e.mxI("ngModelChange",function(t){return e.eBV(a),e.DH7(n.password,t)||(n.password=t),e.Njj(t)}),e.k0s()(),e.j41(30,"ion-item")(31,"ion-label",10),e.EFF(32,"Edad"),e.k0s(),e.j41(33,"ion-input",15),e.mxI("ngModelChange",function(t){return e.eBV(a),e.DH7(n.age,t)||(n.age=t),e.Njj(t)}),e.k0s()(),e.j41(34,"ion-item")(35,"ion-label",10),e.EFF(36,"Tel\xe9fono"),e.k0s(),e.j41(37,"ion-input",16),e.mxI("ngModelChange",function(t){return e.eBV(a),e.DH7(n.phone,t)||(n.phone=t),e.Njj(t)}),e.k0s()(),e.j41(38,"ion-item"),e.nrm(39,"ion-label"),e.j41(40,"label",17),e.DNE(41,_,2,0,"span",18)(42,y,2,0,"span",18),e.j41(43,"input",19),e.bIt("change",function(t){return e.eBV(a),e.Njj(n.onFileSelected(t))}),e.k0s()()(),e.DNE(44,j,2,1,"div",20),e.j41(45,"ion-button",21),e.EFF(46,"Registrarse"),e.k0s()()(),e.DNE(47,P,2,0,"div",22),e.k0s()}2&o&&(e.R7$(17),e.R50("ngModel",n.name),e.Y8G("disabled",n.isLoading),e.R7$(4),e.R50("ngModel",n.lastName),e.Y8G("disabled",n.isLoading),e.R7$(4),e.R50("ngModel",n.email),e.Y8G("disabled",n.isLoading),e.R7$(4),e.R50("ngModel",n.password),e.Y8G("disabled",n.isLoading),e.R7$(4),e.R50("ngModel",n.age),e.Y8G("disabled",n.isLoading),e.R7$(4),e.R50("ngModel",n.phone),e.Y8G("disabled",n.isLoading),e.R7$(4),e.Y8G("ngIf",!n.imageAdded),e.R7$(),e.Y8G("ngIf",n.imageAdded),e.R7$(),e.Y8G("disabled",n.isLoading),e.R7$(),e.Y8G("ngIf",n.errorMessage),e.R7$(),e.Y8G("disabled",n.isLoading),e.R7$(2),e.Y8G("ngIf",n.isLoading))},dependencies:[M.bT,r.Jm,r.QW,r.W9,r.eU,r.iq,r.$w,r.uz,r.he,r.w2,r.ai,r.su,r.Gw,r.N7,u.qT,u.BC,u.cb,u.YS,u.vS,u.cV,c.Wk],styles:['@charset "UTF-8";.signup-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background-color:#f7f7f7;height:100%;animation:_ngcontent-%COMP%_fadeIn .5s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.user-icon[_ngcontent-%COMP%]{margin-bottom:20px;width:100px;height:auto;border-radius:50%;transition:transform .3s}.user-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.login-form[_ngcontent-%COMP%]{width:100%;max-width:400px;background:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 20px #0000001a;margin:0 auto}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:5px;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;margin-bottom:10px;font-size:14px}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.signup-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}input[type=file][_ngcontent-%COMP%]{display:block;margin-top:12px;margin-bottom:16px;padding:8px;border:1px solid #ccc;border-radius:4px;width:100%;font-size:1em;color:#555}input[type=file][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 5px #007bff80}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{background-color:#007bff;color:#fff;border:none;padding:8px 12px;border-radius:4px;cursor:pointer;font-weight:700;-webkit-transition:background-color .3s;transition:background-color .3s}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button:hover{background-color:#0056b3}.app-header[_ngcontent-%COMP%]{background-color:#fff;color:#000}.app-header-logo[_ngcontent-%COMP%]{flex:1;text-align:center}.app-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;margin:0;font-weight:700}.app-header-navbar[_ngcontent-%COMP%]{display:flex;align-items:center}.profile[_ngcontent-%COMP%]{background-color:#fff;color:#000;margin-left:10px;border-radius:7px;transition:all .2s ease}.profile[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff;transition:all .2s ease}ion-icon[_ngcontent-%COMP%]{margin-right:8px}ion-button[_ngcontent-%COMP%]{background-color:#fff;color:#000;transition:all .2s ease}ion-button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff;transition:all .2s ease}.signup-container[_ngcontent-%COMP%]{position:relative;z-index:1}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.loading-spinner[_ngcontent-%COMP%]{width:60px;height:60px}']}),s})()}];let F=(()=>{var i;class s{}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[c.iI.forChild(k),c.iI]}),s})();var v=l(3887);let S=(()=>{var i;class s{}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[v.G,F]}),s})()}}]);